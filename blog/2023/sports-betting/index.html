<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>The big casino of sports betting | Eduardo Figueiredo</title> <meta name="author" content="Eduardo Figueiredo"> <meta name="description" content="sports betting in Brazil"> <meta name="keywords" content="machine-learning, robustness, control-theory, statistics"> <link rel="stylesheet" href="/al-folio/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/al-folio/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/al-folio/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/al-folio/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://eduardofmdcosta.github.io/al-folio/blog/2023/sports-betting/"> <link rel="stylesheet" href="/al-folio/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/al-folio/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/al-folio/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/al-folio/"><span class="font-weight-bold">Eduardo </span>Figueiredo</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/al-folio/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/al-folio/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/al-folio/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/al-folio/teaching/">teaching</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">The big casino of sports betting</h1> <p class="post-meta">August 21, 2023</p> <p class="post-tags"> <a href="/al-folio/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/al-folio/blog/category/jekyll"> <i class="fa-solid fa-tag fa-sm"></i> jekyll</a>   <a href="/al-folio/blog/category/blogging"> <i class="fa-solid fa-tag fa-sm"></i> blogging</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>The sports betting houses have <a href="https://www.uol.com.br/esporte/futebol/ultimas-noticias/2023/03/31/patrocinios-de-sites-de-apostas-a-clubes-da-serie-a-batem-r-330-mi-por-ano.htm" rel="external nofollow noopener" target="_blank">taken over Brazilian football</a> in recent years. Their brands seem ubiquitous: advertising on TV and the internet, sponsorships on uniforms, and billboards. Interestingly, until very recently, these companies benefited from regulatory and tax loopholes that provided additional incentives for the proliferation of their activity - a situation that should be (at least partially) addressed with an <a href="https://g1.globo.com/politica/noticia/2023/07/25/mp-das-apostas.ghtml" rel="external nofollow noopener" target="_blank">executive order by Minister Haddad</a>.</p> <p>But what is behind the interest of so many agents in mediating sports bets? What are the fundamentals of the profitability of this activity? In this article, I intend to present some reflections on the mathematics and economics of sports betting. Although I am using the term <em>sports</em>, I should add that I will focus on football betting. Additionally, I will discuss the “standard” bets (i.e. betting on who won the match) - which I assume to account for most of the money spent on those platforms.</p> <p>1) <strong>Explaining the odds</strong></p> <p>For the standard bets, for each game, the house sets odds for a home team win, an away team win, and a draw. For example, let’s imagine that Real Madrid will face Barcelona, and a betting platform has set the following odds for each result: 2.5 if Real Madrid wins, 3.0 if Barcelona wins, and 1.5 if the match ends in a draw. If one bets R$1 in a Real Madrid win, one will receive R$2.5 if this indeed happens (yielding to a return of R$1.5, as the initial R$1 is part of the payout), and will lose the initial R$1 if any other result takes place. In other words, the bottom line for this bettor is either a profit of R$1.5 if Real Madrid wins, or a loss of R$1 else. Analogously, betting on Barcelona yields to a return of +R$2.0 (Barcelona wins) or -R$1 (else), and on a draw leads to +R$0.5 if this takes place, or again -R$1 else.</p> <p>2) <strong>Why can \(\frac{1}{\text{odds}}\) represent the probability of the event?</strong></p> <p>In our previous example, many sites will indicate that the probability of a draw implied by the odds of 1.5 is \(\frac{1}{1.5} \approx 67\%\). But how is this calculation justified?</p> <p>My current understanding is that this comes from a <em>perfect competition</em> argument. In a perfectly competitive market among betting houses, the odds should be set such that the expected return for the bettor is zero (if the presented odds implied positive expected returns, the house would lose money in the long run; if negative, other houses could offer better odds and capture market share).</p> <p>Let \(R\) be the random variable representing the return of the bettor for each R$1 bet, and $k_{\text{event}}$ be the odds for a particular event (e.g., home team victory).</p> \[R = \begin{cases} k_{\text{event}}-1 &amp; \text{if the event occurs } (\text{w/ probability} p_{\text{event}}) \\ -1 &amp; \text{if not } (\text{w/ probability} 1-p_{\text{event}}) \end{cases}\] <p>Então,</p> \[\mathbb{E}(R) = (k_{\text{event}}-1)p_{\text{event}} + (-1)(1-p_{\text{event}}) = 0 \implies p_{\text{event}} = \frac{1}{k_{\text{event}}}\] <p>In other words, if the house believes that the probability of the event is 50%, then, under perfect competition, it would be “forced” (by market dynamics) to offer odds of \(k_{\text{event}} = \frac{1}{p_{\text{event}}} = \frac{1}{0.5} = 2\). This is a simplified explanation, but it helps to understand the rationale. Similar arguments (and with greater formalization) can be found in basic Microeconomics textbooks.</p> <p>3) <strong>Is the perfect competition hypothesis valid in practice?</strong></p> <p>No. There is no perfect competition in this market (which resembles more of an oligopoly), and there are operational costs that the house must cover.</p> <p>Thus, \(\frac{1}{k_{\text{event}}}\) does not represent the house’s estimated implicit probability of the event. At most, it is a <em>proxy</em> for this quantity.</p> <p>An additional piece of evidence for this claim is that the sum \(\frac{1}{k_{\text{Home}}} + \frac{1}{k_{\text{Away}}} + \frac{1}{k_{\text{Draw}}}\) is usually greater than 1. For example, looking at the odds from a popular platform for the grand match between Sydney Olympic vs. Sydney United, we have the following odds: 4.00 (Sydney Olympic win), 1.80 (Sydney United win), and 3.60 (draw). Note that \(\frac{1}{4.00} + \frac{1}{1.80} + \frac{1}{3.60} = 108.3\)%. The sum of the “probabilities” exceeds 100%.</p> <p>4) <strong>Why does the sum exceed 1?</strong></p> <p>This is the mechanism that allows houses to ensure profits regardless of the final match result. Let \(k_{i}\) be the odds for each event, and \(V_{i}\) the respective amounts bet. The platform’s “operational profit” will be the amount collected from losing bets minus the amount paid to the winners.</p> <p>In the case of a <strong>home win</strong>, the platform’s operational bottom line is given by:</p> \[V_{\text{Away}} + V_{\text{Draw}} - (k_{\text{Home}}-1)V_{\text{Home}}\] <p>Similarly, in the case of an <strong>away win</strong>:</p> \[V_{\text{Home}} + V_{\text{Draw}} - (k_{\text{Away}}-1)V_{\text{Away}}\] <p>Finally, if the match ends in a <strong>draw</strong>:</p> \[V_{\text{Home}} + V_{\text{Away}} - (k_{\text{Draw}}-1)V_{\text{Draw}}\] <p>For the betting house to profit in any scenario, all three expressions must be positive.</p> \[\begin{cases} V_{\text{Away}} + V_{\text{Draw}} - (k_{\text{Home}}-1)V_{\text{Home}} &gt; 0 \\ V_{\text{Home}} + V_{\text{Draw}} - (k_{\text{Away}}-1)V_{\text{Away}} &gt; 0 \\ V_{\text{Home}} + V_{\text{Away}} - (k_{\text{Draw}}-1)V_{\text{Draw}} &gt; 0 \end{cases} \implies \begin{cases} V_{\text{Home}} &lt; \frac{V_{\text{Away}} + V_{\text{Draw}}}{k_{\text{Home}}-1} \\ V_{\text{Away}} &lt; \frac{V_{\text{Home}} + V_{\text{Draw}}}{k_{\text{Away}}-1} \\ V_{\text{Draw}} &lt; \frac{V_{\text{Home}} + V_{\text{Away}}}{k_{\text{Draw}}-1} \end{cases}\] <p>Let \(V\) be the total financial volume of bets for that match, i.e., \(V = V_{\text{Home}} + V_{\text{Away}} + V_{\text{Draw}}\). The previous inequalities can be rewritten as (remembering that \(k_{i} = \frac{1}{p_i}\)):</p> \[V_{i} &lt; \frac{V - V_{i}}{k_{i} - 1} \implies V_{i}k_{i} &lt; V \implies V_{i} &lt; \frac{V}{k_{i}} \implies V_{i} &lt; p_{i}V\] <p>Thus, given a set of odds, we need to find \(V_{\text{Home}}\), \(V_{\text{Away}}\) e \(V_{\text{Draw}}\) such that:</p> \[\begin{cases} V_{i} &lt; p_{i}V \\ \sum_{i} V_i = V \end{cases}\] <p>The fact that \(\sum_{i} p_i &gt; 1\) ensures that the system has a solution for any financial volume \(V\) (this is left as an exercise for the reader). Therefore, regardless of the match outcome, if the distribution of bets respects the above constraints, the house will make money.</p> <p>Of course, attentive readers will notice that we are being somewhat imprecise with the accounting terms in this section. Houses incur multiple operational costs (server costs, teams of programmers, data scientists, etc.) and expenses (e.g., marketing), so what we have been calling profit is not quite that.</p> <p>Moreover, in the reasoning above, we fixed the odds and assumed the house could adjust the volume of each bet. In reality, this process occurs dynamically, with the platform offering more or less advantageous odds over time to balance the bet portfolio.</p> <p>5) <strong>Is it possible to beat the market (i.e., consistently achieve positive returns)?</strong></p> <p>This is highly unlikely. Outperforming the platforms’ predictive models is extremely hard and, even in the unlikely scenario where you find one, betting houses seem to be able to hinder some strategies as soon as they are proven capable of consistently generating positive returns (as showed in <a href="https://arxiv.org/abs/1710.02824" rel="external nofollow noopener" target="_blank">this paper</a>).</p> <p>Your football club is sponsored by a betting company, not by your neighbor. So my recommendation is to always remember who is really making the money in this activity before falling into the illusion of getting rich quickly.</p> </div> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Eduardo Figueiredo. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/al-folio/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/al-folio/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/al-folio/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/al-folio/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/al-folio/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/al-folio/assets/js/copy_code.js?07b8786bab9b4abe90d10e61f7d12ff7" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>